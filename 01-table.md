# 实战篇（一）

## 京东的无延迟菜单效果

### 知识点小结

1. 菜单布局

    1. 要学会在外部套一个容器
    2. 子菜单用sub来起名
    3. 对于一级菜单使用ul列表，对于水平的菜单要浮动或者定位
    4. 对于带标题的使用dl列表
    5. 为了相互元素对应可以使用data*属性
2. js交互（event）

    1. mouseover和mouseenter的区别:给父元素注册事件，使用mouseover时鼠标放在子元素上，即便没有离开父元素也会触发mouseout事件，但是mouseenter与之相反。
    2. 事件代理进行事件绑定：替代使用循环给元素绑定同类事件，好处是动态添加元素时不需要再重新给元素绑定事件，常用格式如  
    
    $(x).on('enventname','childDom',callback)
    
3. 使用setTimeout来进行延迟实现（定义一个全局变量timer）
4. 去抖技术（debounce）去抖技术：当某个事件被多次触发时只执行一次。
```
去抖技术的原理：当事件再一次触发时清除存在的延迟事件，并且在延迟执行完毕后也要设置timer=null
```
5. 使用定时器之后新的问题：快速切换卡顿

```
基于用户行为预测的切换技术：跟踪鼠标的移动，用鼠标的当前位置和上一次鼠标位置与菜单上下边缘的三角区域进行比较
```
6. 监听鼠标的位置：mousemove一般绑定在document上的
